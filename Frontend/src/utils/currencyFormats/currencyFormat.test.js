import { describe, expect, test } from '@jest/globals';
import { formatUSD } from './currencyFormat';

const cases = [
  [100,          '$100.00'],
  [1_000,        '$1,000.00'],
  [1_000_000,    '$1,000,000.00'],

  [100.5,        '$100.50'],
  [100.99,       '$100.99'],
  [100.123,      '$100.12'],
  [100.125,      '$100.13'],

  [0,            '$0.00'],

  [-100,         '-$100.00'],
  [-100.5,       '-$100.50'],
  [-1_000,       '-$1,000.00'],

  [0.01,         '$0.01'],
  [0.1,          '$0.10'],
  [0.99,         '$0.99'],

  [999_999_999,  '$999,999,999.00'],
  [1_000_000_000,'$1,000,000,000.00'],

  ['100',        '$100.00'],
  ['100.5',      '$100.50'],
  ['1000',       '$1,000.00'],

  [0.001,        '$0.00'],
  [0.005,        '$0.01'],
  [0.004,        '$0.00'],

  [100.999,      '$101.00'],
  [100.001,      '$100.00'],
  [100.555,      '$100.56'],
];

describe('formatUSD', () => {
  test.each(cases)('formats %p â†’ %p', (input, expected) => {
    expect(formatUSD(input)).toBe(expected);
  });
});
